/* ===================================================================
   ESTILOS BASE â€” EdiciÃ³n NiÃ±os (Refactor)
   - Modo oscuro por defecto + modo claro con alto contraste
   - Enfoque en visibilidad, accesibilidad y feedback visual
   =================================================================== */
:root {
  --bg: #0b1220;
  --fg: #f8fafc;
  --muted: #cbd5e1;
  --primary: #7dd3fc;  /* celeste alegre */
  --accent: #f472b6;   /* rosado divertido */
  --panel: #0f172a;
  --grid-line: rgba(255,255,255,.09);
  --cols: 8;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Trebuchet MS', 'Comic Sans MS', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color: var(--fg);
  background: radial-gradient(1200px 800px at 20% 0%, #0f1a33, var(--bg));
}

/* ----------------- Barra superior ----------------- */
.brand-title {
  margin: 0;
  font-size: clamp(28px, 5vw, 44px);
  letter-spacing: 1.2px;
  text-align: center;
  width: 100%;
  font-weight: 800;
  line-height: 1.1;
  text-shadow: 0 2px 0 rgba(0,0,0,.25);
}

.topbar {
  display:grid; grid-template-columns: 1fr auto;
  align-items:center; gap: 10px;
  padding: 14px 16px; background: rgba(255,255,255,0.03);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(6px);
}

.actions { display:flex; gap: 8px; }

.btn {
  border: 2px solid rgba(255,255,255,0.18);
  background: rgba(125,211,252,0.18);
  color: var(--fg);
  padding: 10px 14px; border-radius: 12px; cursor: pointer;
  font-weight: 700;
}
.btn:hover { border-color: var(--primary); transform: translateY(-1px); }
.btn-ghost { background: transparent; }

/* ----------------- Layout ----------------- */
.layout {
  display:grid;
  grid-template-columns: 280px 1fr 280px;
  gap: 16px;
  padding: 16px;
}

.panel {
  background: var(--panel);
  border: 2px solid rgba(255,255,255,.1);
  border-radius: 14px;
  padding: 12px;
}

.form-row { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
label { color: var(--muted); font-size: 16px; align-self:center; font-weight: 700; }
input, select {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,.2);
  background: rgba(255,255,255,0.06);
  color: var(--fg);
  font-size: 16px;
}
input:focus, select:focus { outline: none; border-color: var(--primary); }

/* Entradas invÃ¡lidas */
input.invalid, select.invalid {
  border-color:#ef4444 !important;
  box-shadow: 0 0 0 3px rgba(239,68,68,.25);
}

/* Globo (tooltip) accesible */
.bubble {
  position: absolute;
  background: #1f2937;
  color: #f8fafc;
  border: 2px solid rgba(255,255,255,.15);
  border-radius: 12px;
  padding: 8px 10px;
  font-size: 14px;
  z-index: 9999;
  transform: translate(-50%, -100%);
  white-space: nowrap;
  pointer-events: none;
}
.bubble::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: -8px;
  transform: translateX(-50%);
  border: 8px solid transparent;
  border-top-color: #1f2937;
}

.hint { display:block; color: var(--muted); margin-top: 6px; font-size: 14px; }
.errors { color: #fecaca; min-height: 20px; }

/* ----------------- Juego ----------------- */
.game .hud {
  display:flex; gap: 16px; margin-bottom: 10px; align-items:center;
}
.stat {
  background: rgba(255,255,255,.10);
  border: 2px solid rgba(255,255,255,.15);
  padding: 8px 12px; border-radius: 10px; font-weight: 800;
}

.grid {
  --gap: 8px;
  display: grid;
  grid-template-columns: repeat(var(--cols), minmax(0, 1fr));
  gap: var(--gap);
  width: 100%;
  aspect-ratio: 1.6/1;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 3px solid var(--grid-line);
  border-radius: 14px;
  padding: var(--gap);
  position: relative;
}

.cell {
  position: relative;
  border-radius: 12px;
  display:flex; align-items:center; justify-content:center;
  user-select:none; cursor:pointer;
  background: rgba(255,255,255,.08);
  border: 2px solid rgba(255,255,255,.18);
  transition: transform .08s, background .2s;
  font-size: clamp(18px, 3vw, 26px);
}
.cell:active { transform: scale(.98); }

/* CopiÃ³n visible en ambos modos */
.cell.copion {
  outline: 3px solid var(--accent);
  box-shadow: inset 0 0 18px rgba(250,204,21,.35), 0 0 16px rgba(244,114,182,.35);
  background: rgba(244,114,182,.18);
}
.cell .emoji { filter: drop-shadow(0 0 6px rgba(255,255,255,.5)); }

/* Fallo visual */
.cell.miss { background: rgba(239,68,68,.22); }

/* Rastro ðŸ‘€ se desvanece en 2s */
.trail {
  position: absolute; inset: 0; display:flex; align-items:center; justify-content:center;
  pointer-events: none;
  font-size: clamp(18px, 3vw, 26px);
  animation: fadeOut 2s forwards ease-out;
}
@keyframes fadeOut { 0%{opacity:1;transform:scale(1)} 100%{opacity:0;transform:scale(1.2)} }

/* Toast */
.toast {
  position: fixed; left: 50%; top: 20px; transform: translateX(-50%);
  background: rgba(15,23,42,.95); color: #e5e7eb; border: 2px solid rgba(255,255,255,.18);
  padding: 10px 14px; border-radius: 12px; z-index: 9999; font-weight: 800;
}

/* ----------------- Modo claro con alto contraste ----------------- */
/* ======================= ðŸŒ‘ CorrecciÃ³n select modo oscuro ======================= */
select option {
  background: #0b1220; /* fondo oscuro */
  color: #f8fafc;     /* texto claro */
}

body.light-mode select option {
  background: #f7fafc; /* fondo claro */
  color: #0f172a;     /* texto oscuro */
}

body.light-mode {
  --bg: #f7fafc;
  --fg: #0f172a;
  --muted: #334155;
  --panel: #ffffff;
  --primary: #2563eb;
  --accent: #f97316; /* naranja intenso */
  --grid-line: rgba(37,99,235,.55);
  background: radial-gradient(1200px 800px at 20% 0%, #eaf2ff, var(--bg));
}
body.light-mode .panel { border-color: rgba(15,23,42,.1); }
body.light-mode .grid {
  background: linear-gradient(180deg, rgba(37,99,235,.08), rgba(99,102,241,.05));
  border-color: var(--grid-line);
}
body.light-mode .cell {
  background: rgba(37,99,235,.08);
  border-color: rgba(15,23,42,.12);
}
body.light-mode .cell.copion {
  outline-color: var(--accent);
  background: rgba(249,115,22,.16);
  box-shadow: inset 0 0 18px rgba(37,99,235,.30), 0 0 14px rgba(249,115,22,.35);
}
body.light-mode .toast { background: #111827; color:#f9fafb; }

/* ----------------- Responsive ----------------- */
@media (max-width: 980px) {
  .layout { grid-template-columns: 1fr; }
  .brand-title { font-size: clamp(28px, 8vw, 44px); }
}


/* ---------- Recuadro de error visible (#errBox) ---------- */
.errors {
  background: transparent;
  color: #fecaca;
  min-height: 20px;
  padding: 0;
  border-radius: 10px;
  transition: all .2s ease;
}
.errors.show {
  background: #7f1d1d;      /* rojo oscuro */
  color: #fee2e2;            /* texto claro */
  border: 2px solid #b91c1c; /* borde rojo */
  padding: 10px 12px;
  margin-top: 8px;
  font-weight: 700;
  box-shadow: 0 4px 16px rgba(185,28,28,.35);
}

/* ======================= ðŸŒŸ AnimaciÃ³n global al cargar ======================= */
.app-container {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

body.loaded .app-container {
  opacity: 1;
  transform: translateY(0);
}
/* =================================================================== */